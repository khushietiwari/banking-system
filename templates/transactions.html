{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>PrimeTrust Bank â€¢ Transaction History</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>

/* ===== GLOBAL ===== */
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0b1f3a, #102a4d);
    color: white;
}

/* ===== CONTAINER ===== */
.page-container {
    max-width: 1000px;
    margin: auto;
    padding: 40px 20px;
}

/* ===== CARD ===== */
.history-card {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 25px 70px rgba(0,0,0,0.35);
    color: #102a4d;
}

/* ===== TABLE ===== */
.table thead {
    border-bottom: 2px solid #dde2e7;
}

.table tbody tr:hover {
    background: #f4f7fb;
}

/* ===== BADGES ===== */
.txn-badge {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

/* Deposit */
.deposit {
    background: rgba(40,167,69,0.12);
    color: #28a745;
}

/* Withdrawal */
.withdrawal {
    background: rgba(220,53,69,0.12);
    color: #dc3545;
}

/* Transfer Sent */
.transfer-sent {
    background: rgba(255,193,7,0.2);
    color: #d39e00;
}

/* Transfer Received */
.transfer-received {
    background: rgba(23,162,184,0.18);
    color: #17a2b8;
}

/* ===== METHOD ===== */
.method-pill {
    background: #f4f7fc;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
}

/* ===== EMPTY STATE ===== */
.empty-row {
    text-align: center;
    color: #6c757d;
}

/* ===== AMOUNT ===== */
.amount {
    font-weight: 600;
}

/* ===== DATE ===== */
.date {
    font-size: 13px;
    color: #8892a0;
}

</style>
</head>

<body>

<div class="page-container">

    <h3 class="mb-3">ðŸ“œ Transaction History</h3>

    <div class="history-card">

        <h5 class="mb-3">Recent Account Activity</h5>

        <div class="table-responsive">

            <table class="table align-middle table-borderless">

                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Method</th>
                        <th class="text-end">Date</th>
                    </tr>
                </thead>

                <tbody>
                    {% for txn in transactions %}
                    <tr>

                        <td>
                            <span class="txn-badge 
                                {% if txn.transaction_type == 'Deposit' %}deposit
                                {% elif txn.transaction_type == 'Withdrawal' %}withdrawal
                                {% elif txn.transaction_type == 'Transfer Sent' %}transfer-sent
                                {% elif txn.transaction_type == 'Transfer Received' %}transfer-received
                                {% endif %}
                            ">
                                {{ txn.transaction_type }}
                            </span>
                        </td>

                        <td class="amount">
                            â‚¹ {{ txn.amount }}
                        </td>

                        <td>
                            <span class="method-pill">
                                {{ txn.method }}
                            </span>
                        </td>

                        <td class="text-end date">
                            {{ txn.timestamp }}
                        </td>

                    </tr>

                    {% empty %}
                    <tr>
                        <td colspan="4" class="empty-row py-4">
                            No transactions found
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>

        </div>

    </div>

</div>

</body>
</html>
