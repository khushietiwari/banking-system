{% extends 'base.html' %}
{% block content %}

<style>
.kyc-status-wrapper {
    padding: 40px 60px;
}

.kyc-title {
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #1f2937;
}

.kyc-card {
    background: #ffffff;
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.05);
    max-width: 550px;
}

.kyc-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 18px;
}

.kyc-label {
    font-weight: 500;
    color: #555;
}

.kyc-status-badge {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
}

.status-approved {
    background: #dcfce7;
    color: #166534;
}

.status-pending {
    background: #fef9c3;
    color: #854d0e;
}

.status-rejected {
    background: #fee2e2;
    color: #991b1b;
}

.doc-link {
    text-decoration: none;
    color: #003366;
    font-weight: 500;
}

.doc-link:hover {
    text-decoration: underline;
}

.action-btn {
    display: inline-block;
    margin-top: 15px;
    padding: 10px 18px;
    border-radius: 8px;
    background: #003366;
    color: white;
    text-decoration: none;
    font-weight: 500;
}

.action-btn:hover {
    opacity: 0.9;
}

.kyc-empty {
    text-align: center;
}

.empty-text {
    margin-bottom: 15px;
    color: #6b7280;
}
</style>


<div class="kyc-status-wrapper">

    <div class="kyc-title">
        KYC Verification Status
    </div>

    <div class="kyc-card">

        {% if kyc %}

            <div class="kyc-row">
                <span class="kyc-label">Current Status</span>

                {% if kyc.status == "Approved" %}
                    <span class="kyc-status-badge status-approved">
                        ✅ Approved
                    </span>

                {% elif kyc.status == "Pending" %}
                    <span class="kyc-status-badge status-pending">
                        ⏳ Pending Review
                    </span>

                {% elif kyc.status == "Rejected" %}
                    <span class="kyc-status-badge status-rejected">
                        ❌ Rejected
                    </span>
                {% endif %}
            </div>

            {% if kyc.document %}
            <div class="kyc-row">
                <span class="kyc-label">Uploaded Document</span>
                <a href="{{ kyc.document.url }}" target="_blank" class="doc-link">
                    View Document
                </a>
            </div>
            {% endif %}

            {% if kyc.status == "Rejected" %}
                <a href="{% url 'upload_kyc' %}" class="action-btn">
                    Re-upload KYC
                </a>
            {% endif %}

        {% else %}

            <div class="kyc-empty">
                <p class="empty-text">No KYC submitted yet.</p>
                <a href="{% url 'upload_kyc' %}" class="action-btn">
                    Upload KYC Now
                </a>
            </div>

        {% endif %}

    </div>

</div>

{% endblock %}
