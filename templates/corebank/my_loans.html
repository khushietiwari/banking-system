{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>PrimeTrust Bank • My Loans</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>

/* ===== GLOBAL ===== */
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0b1f3a, #102a4d);
    color: white;
}

/* ===== CONTAINER ===== */
.page-container {
    max-width: 1000px;
    margin: auto;
    padding: 40px 20px;
}

/* ===== CARD ===== */
.loans-card {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 25px 70px rgba(0,0,0,0.35);
    color: #102a4d;
}

/* ===== HEADER ===== */
.page-header h3 {
    font-weight: 700;
    margin-bottom: 5px;
}

.page-header small {
    color: #6c757d;
}

/* ===== TABLE ===== */
.table thead {
    border-bottom: 2px solid #dde2e7;
}

.table tbody tr:hover {
    background: #f4f7fb;
}

/* ===== STATUS BADGES ===== */
.status-badge {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

/* Approved */
.approved {
    background: rgba(40,167,69,0.15);
    color: #28a745;
}

/* Pending */
.pending {
    background: rgba(255,193,7,0.25);
    color: #b78103;
}

/* Rejected */
.rejected {
    background: rgba(220,53,69,0.15);
    color: #dc3545;
}

/* Default */
.default {
    background: rgba(108,117,125,0.15);
    color: #6c757d;
}

/* ===== EMPTY STATE ===== */
.empty-row {
    text-align: center;
    color: #6c757d;
}

/* ===== AMOUNT ===== */
.amount {
    font-weight: 700;
    color: #28a745;
}

</style>
</head>

<body>

<div class="page-container">

    <div class="page-header mb-3">
        <h3>My Loans</h3>
        <small>View the status of your loan applications</small>
    </div>

    <div class="loans-card">

        <table class="table align-middle table-borderless">

            <thead>
                <tr>
                    <th>Amount</th>
                    <th>Reason</th>
                    <th class="text-end">Status</th>
                </tr>
            </thead>

            <tbody>
            {% for loan in loans %}
                <tr>

                    <td class="amount">
                        ₹ {{ loan.amount }}
                    </td>

                    <td>
                        {{ loan.reason }}
                    </td>

                    <td class="text-end">
                        {% if loan.status == "Approved" %}
                            <span class="status-badge approved">Approved</span>

                        {% elif loan.status == "Pending" %}
                            <span class="status-badge pending">Pending</span>

                        {% elif loan.status == "Rejected" %}
                            <span class="status-badge rejected">Rejected</span>

                        {% else %}
                            <span class="status-badge default">
                                {{ loan.status }}
                            </span>
                        {% endif %}
                    </td>

                </tr>

            {% empty %}
                <tr>
                    <td colspan="3" class="empty-row py-4">
                        You have not applied for any loans yet.
                    </td>
                </tr>
            {% endfor %}
            </tbody>

        </table>

    </div>

</div>

</body>
</html>
